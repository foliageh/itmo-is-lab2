<ui:composition template="/WEB-INF/templates/layout.xhtml"
                xmlns:h="jakarta.faces.html"
                xmlns:f="jakarta.faces.core"
                xmlns:ui="jakarta.faces.facelets"
                xmlns:p="http://primefaces.org/ui">
    <ui:param name="title" value="Sign Up"/>
    <ui:define name="content">
        <div class="flex flex-column align-items-center">
            <h1>Sign Up</h1>
            <h:form id="register">
                <div class="flex">
                    <div class="ui-fluid w-20rem">
                        <div class="field">
                            <p:outputLabel value="Username" for="@next"/>
                            <p:inputText value="#{register.user.username}" id="fUsername">
                                <p:clientValidator event="keyup"/>
                            </p:inputText>
                            <p:message for="@previous"/>
                        </div>
                        <div class="field">
                            <p:outputLabel value="Password" for="@next"/>
                            <p:password value="#{register.user.password}" id="fPassword"
                                        toggleMask="true" redisplay="true">
                                <p:clientValidator event="keyup"/>
                            </p:password>
                            <!--<p:inputText value="#{login.user.password}" type="password">-->
                            <!--    <f:ajax event="keyup" render="@this @next"/>-->
                            <!--</p:inputText>-->
                            <p:message for="@previous"/>
                        </div>
                        <p:commandButton value="Create an account" id="bSubmit"
                                         update="@form" ajax="false" action="#{register.submit}"/>
                        <div class="text-center mt-2">
                            <span>Already have an account?</span>
                            <p:link outcome="/login" value="Log In" styleClass="ml-1"/>
                        </div>
                    </div>
                </div>
            </h:form>
        </div>
    </ui:define>
</ui:composition>
